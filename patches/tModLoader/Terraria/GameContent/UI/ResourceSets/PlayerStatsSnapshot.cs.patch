--- src/TerrariaNetCore/Terraria/GameContent/UI/ResourceSets/PlayerStatsSnapshot.cs
+++ src/tModLoader/Terraria/GameContent/UI/ResourceSets/PlayerStatsSnapshot.cs
@@ -1,14 +_,24 @@
 namespace Terraria.GameContent.UI.ResourceSets;
 
-public struct PlayerStatsSnapshot
+// Also see PlayerStatsSnapshot.TML.cs
+public partial struct PlayerStatsSnapshot
 {
 	public int Life;
 	public int LifeMax;
 	public int LifeFruitCount;
+	/*
 	public float LifePerSegment;
+	*/
 	public int Mana;
 	public int ManaMax;
+	/*
 	public float ManaPerSegment;
+	*/
+	
+	// Added by TML: [[
+	private int numLifeHearts;
+	private int numManaStars;
+	// ]]
 
 	public PlayerStatsSnapshot(Player player)
 	{
@@ -18,7 +_,12 @@
 		ManaMax = player.statManaMax2;
 		float num = 20f;
 		int num2 = player.statLifeMax / 20;
+
+		/*
 		int num3 = (player.statLifeMax - 400) / 5;
+		*/
+		int num3 = player.ConsumedLifeFruit;
+
 		if (num3 < 0)
 			num3 = 0;
 
@@ -30,7 +_,12 @@
 		int num4 = player.statLifeMax2 - player.statLifeMax;
 		num += (float)(num4 / num2);
 		LifeFruitCount = num3;
+
+		/*
 		LifePerSegment = num;
 		ManaPerSegment = 20f;
+		*/
+		numLifeHearts = (int)(LifeMax / num);
+		numManaStars = (int)(ManaMax / 20d);
 	}
 }
